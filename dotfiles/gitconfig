[user]
    name = Chris Linstid
    email = chris.linstid@datadoghq.com
    signingKey = key::ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIKZ1JIn27ycLPg59GAJE2PNtlWD38bjTJhMYFaglt9U5 chris.linstid@datadoghq.com

[core]
    excludesfile = ~/.gitignore
{%@@ if is_workspace @@%}
    hooksPath = /home/bits/.global_hooks
{%@@ else @@%}
	hooksPath = /usr/local/dd/global_hooks
{%@@ endif @@%}

[diff]
    tool = vimdiff
    renameLimit = 1000

[difftool]
    prompt = true

[diff]
    tool = nvimdiff

[difftool "nvimdiff"]
    cmd = "nvim -d \"$LOCAL\" \"$REMOTE\""

[merge]
    tool = vimdiff
	autoStash = true

[mergetool]
    prompt = false

[mergetool "meld"]
    trustExitCode = true
    cmd = open -W -a Meld --args --auto-merge \"$LOCAL\" \"$BASE\" \"$REMOTE\" --output=\"$MERGED\"
[filter "lfs"]
    smudge = git-lfs smudge -- %f
    process = git-lfs filter-process
    required = true
    clean = git-lfs clean -- %f
[pager]
    branch = true
[rerere]
    enabled = true
[push]
    default = simple
    autoSetupRemote = true

[alias]
    rebase = !\"echo NOOOOOOOOOO\"
[fetch]
    prune = true
[pull]
    rebase = false

[url "ssh://git@github.com/DataDog/"]
    insteadOf = https://github.com/DataDog/
[init]
    defaultBranch = main
[commit]
    gpgSign = true
[gpg]
    format = ssh

[safe]
    directory = ~/dd/dd-source/.git
    directory = ~/dd/dd-source/.git
    directory = ~/dd/dogweb/.git
    directory = ~/dd/k8s-resources/.git
[url "git@github.com:"]
	insteadOf = https://github.com/
	insteadOf = git://github.com/
[rebase]
	autoStash = true

[alias]
	review = "!f() { \
              if [ $# -eq 0 ]; then \
                  echo 'git review expects one argument (a branch name)'; \
                  exit 1; \
              else \
                  if git show-ref --verify --quiet \"refs/heads/$1\"; then \
                      git fetch origin \"$1\" && \
                      git checkout \"$1\" && \
                      git merge --ff-only \"origin/$1\"; \
                  else \
                      git fetch origin \"$1:$1\" && \
                      git checkout \"$1\"; \
                  fi; \
              fi; \
          }; f"

[maintenance]
	repo = ~/go/src/github.com/DataDog/dd-source
	repo = ~/go/src/github.com/DataDog/dd-go
	repo = ~/go/src/github.com/DataDog/web-ui
